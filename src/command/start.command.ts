import { Input, Markup, Telegraf } from 'telegraf';
import { message } from 'telegraf/filters';
import { Command } from './command.class';
import { IBotContext } from '../context/context.interface';

export class StartCommand extends Command {
  constructor(bot: Telegraf<IBotContext>) {
    super(bot);
  }

  handle(): void {
    this.bot.start((ctx) => {
      const caption =
        `–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è, ${ctx.message.from.first_name}üëã. \n` +
        '–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–Ω–∞—Ä üë®‚Äçüéì \n\n' +
        '–Ø —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å —Ç—Ä–µ–Ω–µ—Ä –∏ —Ñ–∏—Ç–Ω–µ—Å –±–ª–æ–≥–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ –ø—Ä–∏—à–µ–ª –∫ —Ç–µ–ª—É —Å–≤–æ–µ–π –º–µ—á—Ç—ã –∏ –ø–æ–º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Ç–µ–±–µü´µ\n\n' +
        '–û–ø–∏—Ä–∞—è—Å—å –Ω–∞ –æ—Ç–∑—ã–≤—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, —è —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –º–æ–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ, –º–æ–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –º–µ—Ç–æ–¥–∏–∫–∏, –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∏—Ç—å –ª—é–±—É—é –∑–∞–¥–∞—á—É:\n' +
        '-–∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ª–∏—à–Ω–∏—Ö –∫–∏–ª–æ–≥—Ä–∞–º–º\n' +
        '-–≤—ã—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∏—â–µ–≤—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏\n' +
        '-–∑–∞–±—ã—Ç—å —Å—É—Å—Ç–∞–≤–Ω—ã–µ –±–æ–ª–∏, –±–æ–ª–∏ –≤ —Å–ø–∏–Ω–µ\n' +
        '-–ø–æ–¥—Ç—è–Ω—É—Ç—å —Ç–æ–Ω—É—Å –≤ –º—ã—à—Ü–∞—Ö\n' +
        '-—É–∫—Ä–µ–ø–∏—Ç—å –º—ã—à–µ—á–Ω—ã–π –∫–æ—Ä—Å–µ—Ç\n' +
        '-—Ä–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–ª–æ\n' +
        '-–Ω–∞–±–æ—Ä–∞—Ç—å –º–∞—Å—Å—É\n' +
        '-—É–≤–µ–ª–∏—á–∏—Ç—å —Å–∏–ª–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏\n\n' +
        '–î–ª—è —ç—Ç–æ–≥–æ, —è —Å–æ–∑–¥–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —É—Å–∫–æ—Ä–µ–Ω–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ —Ç–µ–±—è –∫ —Ç–≤–æ–µ–π —Ü–µ–ª–∏!';

      ctx.replyWithPhoto(
        // { source: '../src/assets/2023-11-15-14.51.00.jpg' },
        Input.fromLocalFile('assets/2023-11-15-14.51.00.jpg', 'welcome-anar'),
        {
          caption: caption,
          parse_mode: 'Markdown',
          ...Markup.keyboard([
            Markup.button.callback('–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', 'diagnostics_button'),
            Markup.button.callback(
              '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞',
              'individual_programm_button'
            ),
            Markup.button.callback(
              '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–¥–µ–Ω–∏–µ',
              'personal_management_button'
            ),
            // Markup.button.callback('–û—Ç–∑—ã–≤—ã', 'reviews_button'),
          ]).resize(),
        }
      );
    });

    // –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
    this.bot.hears('–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', async (ctx) => {
      const diagnosticText =
        '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –Ω–æ–≤–∏—á–∫–æ–≤ üåö –∏ –Ω–∞ —Ç–µ—Ö –∫—Ç–æ –¥–∞–≤–Ω–æ —Ö–æ–¥–∏—Ç –≤ –∑–∞–ªüéì –Ω–æ —Ç–∞–∫ –∏ –Ω–µ –ø—Ä–∏—à–µ–ª –∫ —Å–≤–æ–µ–º—É –∂–µ–ª–∞–µ–º–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—Éüòû\n' +
        '–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞?ü§®\n' +
        '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å\n\n' +
        '‚úÖ –≤—ã—è–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ —Ç–≤–æ–µ–º –æ–±—Ä–∞–∑–µ –∂–∏–∑–Ω–∏!\n' +
        '‚úÖ–ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç–≤–æ–µ–π —Ü–µ–ª–∏!\n\n' +
        '–ß—Ç–æ–±—ã –ø—É—Ç—å –∫ —Ü–µ–ª–∏ —Å—Ç–∞–ª –¥–ª—è —Ç–µ–±—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–º, –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º.\n' +
        '–ö–∞–∫ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞?üßê\n' +
        '–û–Ω–∞ –¥–ª–∏—Ç—Å—è 7Ô∏è‚É£ –¥–Ω–µ–π\n' +
        '–ï–µ —Ü–µ–ª—å:\n' +
        'üîò–°–æ–±—Ä–∞—Ç—å –ø–æ–ª–Ω—É—é –∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–≤–æ–µ–º –æ–±—Ä–∞–∑–µ –∂–∏–∑–Ω–∏.\n' +
        'üîò–°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Ç–≤–æ–µ–π —Ü–µ–ª–∏.\n' +
        '–í–æ –≤—Ä–µ–º—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏, –º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º 6Ô∏è‚É£ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π!\n\n' +
        '1Ô∏è‚É£–ü–ò–¢–ê–ù–ò–ï üçûüç≥\n' +
        '2Ô∏è‚É£–ê–ö–¢–ò–í–ù–û–°–¢–¨üßò\n' +
        '3Ô∏è‚É£–°–û–ù üò¥\n' +
        '4Ô∏è‚É£–î–ò–°–¶–ò–ü–õ–ò–ù–ê üìàüìÜ\n' +
        '5Ô∏è‚É£–ú–û–¢–ò–í–ê–¶–ò–Ø üíØ\n' +
        '6Ô∏è‚É£–°–¢–†–ï–°–° üò£\n\n' +
        '–ê –≤ –∫–æ–Ω—Ü–µ –º—ã –¥–µ–ª–∞–µ–º —Å–æ–∑–≤–æ–Ωüì≤, –≥–¥–µ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—Ü–µ–Ω–∫—É –æ —Å–≤–æ–µ–º –æ–±—Ä–∞–∑–µ –∂–∏–∑–Ω–∏, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö, –ø–∏—Ç–∞–Ω–∏–∏ –∏ –°–ê–ú–û–ï —Ü–µ–Ω–Ω–æ–µ,‚ùóÔ∏è–î–ï–ô–°–¢–í–ò–Ø‚ùóÔ∏è\n' +
        '–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–µ–ª–∞—Ç—å, —á—Ç–æ –±—ã –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—å —Ü–µ–ª–∏!üìà\n' +
        '–ü–µ—Ä–µ—Ö–æ–¥–∏ –ø–æ –∫–Ω–æ–ø–∫–∞–º –¥–∞–ª–µ–µ‚è≠Ô∏è';

      await ctx.reply(
        diagnosticText,
        Markup.keyboard([
          Markup.button.callback('–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', 'cost_button'),
          Markup.button.callback('–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É', 'request_button'),
          Markup.button.callback('–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', 'back_button'),
        ]).resize()
      );
    });

    // –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
    this.bot.hears('–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞', async (ctx) => {
      const individualProgrannText =
        ' 1Ô∏è‚É£ –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —É—Å–ª—É–≥—É?\n\n' +
        '1.1 –ú—ã —Å–æ—Å—Ç–∞–≤–ª—è–µ–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ 12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –¥–Ω–µ–π, –∏—Å—Ö–æ–¥—è –∏–∑ —Ç–≤–æ–∏—Ö —Ü–µ–ª–µ–π –∏ –∑–∞–¥–∞—á, –ø–æ–¥–±–µ—Ä–µ–º –Ω–∞–∏–±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è —Ü–µ–ª–µ–≤—ã—Ö –≥—Ä—É–ø–ø –º—ã—à—Ü.\n\n' +
        '2Ô∏è‚É£ –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É?\n\n' +
        '2.1 –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –¥–µ–Ω—å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑\n' +
        '5-6 –±–∞–∑–æ–≤—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π, –∫ –∫–∞–∂–¥–æ–º—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—é –ø—Ä–∏–ª–∞–≥–∞–µ—Ç—Å—è –≤–∏–¥–µ–æ —Å –∞–≤—Ç–æ—Ä—Å–∫–æ–π —Ç–µ—Ö–Ω–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–∫–∞–∑–∞–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –Ω–∞ —Ü–µ–ª–µ–≤—É—é –º—ã—à–µ—á–Ω—É—é –≥—Ä—É–ø–ø—É.\n\n' +
        '2.2 –í —Ç–∞–±–ª–∏—Ü–µ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å, —Ç–∞–∫ –∫–∞–∫ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—á–∏–µ –≤–µ—Å–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ç–æ–≤, –∏ –ø–æ–≤—Ç–æ—Ä—ã.\n\n' +
        '2.3 –¢–∞–∫–∂–µ –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ—Ö–Ω–∏–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–ª–∏ –ø–∏—Ç–∞–Ω–∏—é —è –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å, –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å–∫–∏–Ω—É—Ç—å —Ç–µ—Ö–Ω–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –º—ã –≤–º–µ—Å—Ç–µ –µ—ë –æ—Ü–µ–Ω–∏–º.\n\n' +
        '3Ô∏è‚É£ –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ 12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –¥–Ω–µ–π:\n\n' +
        '–¢—ã –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –ø–æ–ª—É—á–∏—à—å –ø–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –º—ã—à—Ü—ã –≤–æ –≤—Ä–µ–º—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–µ–ª–∞—Ç—å —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –∏—Ö –≤ —Ä–∞–±–æ—Ç—É –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ.\n' +
        '–ò —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü —Ç—ã –Ω–µ –±—É–¥–µ—à—å —Å–æ–º–Ω–µ–≤–∞—Ç—å—Å—è, —á—Ç–æ —Ç–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –∑–∞ –≥–æ—Ä–∞–º–∏.';

      await ctx.reply(
        individualProgrannText,
        Markup.keyboard([
          Markup.button.callback('–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', 'cost_button'),
          Markup.button.callback('–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É', 'request_button'),
          Markup.button.callback('–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', 'back_button'),
        ]).resize()
      );
    });

    // –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–¥–µ–Ω–∏–µ
    this.bot.hears('–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–¥–µ–Ω–∏–µ', async (ctx) => {
      const individualProgrannText =
        ' 1Ô∏è‚É£ –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–¥–µ–Ω–∏–µ?\n\n' +
        '1.1 –ú—ã —Å–æ—Å—Ç–∞–≤–ª—è–µ–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –∏—Å—Ö–æ–¥—è –∏–∑ —Ç–≤–æ–∏—Ö —Ü–µ–ª–µ–π –∏ –∑–∞–¥–∞—á, –ø–æ–¥–±–µ—Ä–µ–º –Ω–∞–∏–±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è —Ü–µ–ª–µ–≤—ã—Ö –≥—Ä—É–ø–ø –º—ã—à—Ü.\n\n' +
        '1.2 –¢–∞–∫–∂–µ —Ä–∞–∑–±–µ—Ä–µ–º —Ç–≤–æ–π —Ä–∞—Ü–∏–æ–Ω –ø–∏—Ç–∞–Ω–∏—è, —Ç.–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ —á—Ç–æ —Ç—ã –ø–æ—Ç—Ä–µ–±–ª—è–µ—à—å –∏ –≤ –∫–∞–∫–∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞.\n\n' +
        '2Ô∏è‚É£ –ö–∞–∫ –ø—Ä–æ—Ö–æ–¥—è—Ç –∑–∞–Ω—è—Ç–∏—è?\n\n' +
        '2.1 –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –≤–∞—Å. –ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –≤ –∑–∞–ª –∏–ª–∏ –∑–∞–Ω–∏–º–∞–π—Ç–µ—Å—å –¥–æ–º–∞ –≤ –ª—é–±–æ–µ —É–¥–æ–±–Ω–æ–µ –≤–∞–º –≤—Ä–µ–º—è.\n\n' +
        '2.2 –î–∞–ª–µ–µ, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –∫–∞–∂–¥–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è,  –∏–∑—É—á–∞–µ—à—å –µ–µ –∏ –Ω–∞—á–∏–Ω–∞–µ—à—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.\n\n' +
        '–ê —á—Ç–æ–±—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –±—ã–ª –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏—Å—ã–ª–∞—Ç—å –≤–∏–¥–µ–æ –æ—Ç—á–µ—Ç —Å —Ç–µ—Ö–Ω–∏–∫–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —è –±—É–¥—É –≤–Ω–æ—Å–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ–∫–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –Ω–µ –¥–æ–π–¥–µ—Ç –¥–æ –∏–¥–µ–∞–ª–∞.\n\n';

      await ctx.reply(
        individualProgrannText,
        Markup.keyboard([
          Markup.button.callback('–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', 'cost_button'),
          Markup.button.callback('–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É', 'request_button'),
          Markup.button.callback('–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', 'back_button'),
        ]).resize()
      );
    });

    // –£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
    this.bot.hears(['–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', '–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É'], async (ctx) => {
      const text =
        '–ß—Ç–æ –±—ã –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é, –æ—Å—Ç–∞–≤—å —Å–≤–æ–π –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º.\n\n' +
        '–ù–∞–ø–∏—à—É —Ç–µ–±–µ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.\n' +
        'üì¨üì©\n\n' +
        '–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–æ–º–µ—Ä–æ–º —Ç—ã –º–æ–∂–µ—à—å, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä"';

      // await ctx.telegram.sendMessage(ctx.chat.id, text, {
      //   parse_mode: 'Markdown',
      //   reply_markup: {
      //     one_time_keyboard: true,
      //     keyboard: [
      //       [
      //         {
      //           text: 'Share Phone Number',
      //           request_contact: true,
      //         },
      //         {
      //           text: 'Cancel',
      //         },
      //       ],
      //     ],
      //     force_reply: true,
      //   },
      // });

      await ctx.reply(
        text,
        Markup.keyboard([
          Markup.button.contactRequest('–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä'),
          Markup.button.callback('–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', 'back_button'),
        ]).resize()
      );
    });

    // –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
    // this.bot.hears('', (ctx) => {});

    // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–∑—ã–≤—ã
    // this.bot.hears('reviews_button', (ctx) => {});

    // –ù–∞–∑–∞–¥
    this.bot.hears('–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', async (ctx) => {
      const caption =
        `–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è, ${ctx.message.from.first_name}üëã. \n` +
        '–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–Ω–∞—Ä üë®‚Äçüéì \n\n' +
        '–Ø —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å —Ç—Ä–µ–Ω–µ—Ä –∏ —Ñ–∏—Ç–Ω–µ—Å –±–ª–æ–≥–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ –ø—Ä–∏—à–µ–ª –∫ —Ç–µ–ª—É —Å–≤–æ–µ–π –º–µ—á—Ç—ã –∏ –ø–æ–º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Ç–µ–±–µü´µ\n\n' +
        '–û–ø–∏—Ä–∞—è—Å—å –Ω–∞ –æ—Ç–∑—ã–≤—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, —è —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –º–æ–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ, –º–æ–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –º–µ—Ç–æ–¥–∏–∫–∏, –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∏—Ç—å –ª—é–±—É—é –∑–∞–¥–∞—á—É:\n' +
        '-–∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ª–∏—à–Ω–∏—Ö –∫–∏–ª–æ–≥—Ä–∞–º–º\n' +
        '-–≤—ã—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∏—â–µ–≤—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏\n' +
        '-–∑–∞–±—ã—Ç—å —Å—É—Å—Ç–∞–≤–Ω—ã–µ –±–æ–ª–∏, –±–æ–ª–∏ –≤ —Å–ø–∏–Ω–µ\n' +
        '-–ø–æ–¥—Ç—è–Ω—É—Ç—å —Ç–æ–Ω—É—Å –≤ –º—ã—à—Ü–∞—Ö\n' +
        '-—É–∫—Ä–µ–ø–∏—Ç—å –º—ã—à–µ—á–Ω—ã–π –∫–æ—Ä—Å–µ—Ç\n' +
        '-—Ä–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–ª–æ\n' +
        '-–Ω–∞–±–æ—Ä–∞—Ç—å –º–∞—Å—Å—É\n' +
        '-—É–≤–µ–ª–∏—á–∏—Ç—å —Å–∏–ª–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏\n\n' +
        '–î–ª—è —ç—Ç–æ–≥–æ, —è —Å–æ–∑–¥–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —É—Å–∫–æ—Ä–µ–Ω–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ —Ç–µ–±—è –∫ —Ç–≤–æ–µ–π —Ü–µ–ª–∏!';

      ctx.replyWithPhoto(
        // { source: '../src/assets/2023-11-15-14.51.00.jpg' },
        Input.fromLocalFile('assets/2023-11-15-14.51.00.jpg', 'welcome-anar'),
        {
          caption: caption,
          parse_mode: 'Markdown',
          ...Markup.keyboard([
            Markup.button.callback('–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', 'diagnostics_button'),
            Markup.button.callback(
              '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞',
              'individual_programm_button'
            ),
            Markup.button.callback(
              '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–¥–µ–Ω–∏–µ',
              'personal_management_button'
            ),
            Markup.button.callback('–û—Ç–∑—ã–≤—ã', 'reviews_button'),
          ]).resize(),
        }
      );
    });

    this.bot.on(message('contact'), async (ctx) => {
      ctx.session.numberRequested = true;
      ctx.session.userLogin = ctx.message.from.username
      ctx.session.userName = ctx.message.from.first_name

      ctx.telegram.sendContact(
        2005100692,
        ctx.message.contact.phone_number,
        ctx.message.contact.first_name
      );

      await ctx.reply(
        '–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞—è–≤–∫—É, —è —Å–∫–æ—Ä–æ —Å —Ç–æ–±–æ–π —Å–≤—è–∂—É—Å—å ü§©',
        Markup.keyboard([
          Markup.button.callback('–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', 'back_button'),
        ]).resize()
      );
    });

    this.bot.on(message('text'), async (ctx) => {
      await ctx.reply(
        '–ï—Å–ª–∏ —Ç—ã —É–∂–µ —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—à—å, —á–µ–≥–æ —Ö–æ—á–µ—à—å - —Å–º–µ–ª–æ –æ—Å—Ç–∞–≤–ª—è–π –Ω–æ–º–µ—Ä üòâ\n\n' +
          '–ê –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –±–æ—Ç—É –∏—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫–∏üîΩ',
        Markup.keyboard([
          Markup.button.contactRequest('–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä'),
          Markup.button.callback('–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', 'back_button'),
        ]).resize()
      );
    });
  }
}
